
# Geometric signs reveal changes in social structures and networks during the Western Eurasian Aurignacian

[![Reproducibility
Check](https://github.com/sophiecooper2/SignBase/actions/workflows/render-manuscript.yml/badge.svg)](https://github.com/sophiecooper2/SignBase/actions/workflows/render-manuscript.yml)

This repository contains the data and code for our paper:

> Cooper, Sophie, Aleah Rosner, Eva Oryn, Kenneth B. Vernon, and Ben
> Marwick, Geometric signs reveal changes in social structures and
> networks during the Western Eurasian Aurignacian

<!-- A pre-print of this paper is freely available on SocArXiv:
https://osf.io/preprints/socarxiv/ -->

## Contents

The **analysis** directory contains:

- [:file_folder: paper](/paper): Quarto source document for manuscript.
  Includes code to reproduce the figures and tables generated by the
  analysis.
- [:file_folder: data](/analysis/data): Data used in the analysis.
- [:file_folder: figures](/analysis/paper/figures): Plots and other
  illustrations

# How to download and run locally

We used R and RStudio for this paper. We developed the project in an OSX
environment.

1.  Start by downloading a copy of this repository with the Python and R
    code files, then

2.  Open `SignBase.Rproj` in RStudio.

3.  In the R console in RStudio, run `renv::restore()` to install the
    required packages at the same versions we used.

4.  Our manuscript is a Quarto document that contains the text of our
    paper interwoven with blocks of R code that generates the data
    visualizations and tables. To execute all the code and generate a
    docx document showing the results, run this line in the R console:

<!-- -->

    quarto::quarto_render("paper/paper.qmd")

## How to download and run locally in a Docker container

This research compendium includes a [Dockerfile](Dockerfile) that
specifies the computational environment used to generate the results
presented in the paper. You can recreate this environment, which
includes R, RStudio and all necessary R packages, on your computer by
following these steps:

1.  Install [Docker](https://www.docker.com/get-started/) on your
    computer

2.  Download the compendium, e.g. from GitHub by clicking on the green
    `< > Code` button above, then click `Download ZIP`, then unzip on
    your computer

3.  Set your terminal working directory to the compendium, and run (be
    sure to include the period):

<!-- -->

    docker build -t signbase .

to build the container on your computer, it will take a few minutes and
require a fast internet connection to download and install the required
packages in the container.

4.  Run in your terminal (linux and OSX):

<!-- -->

    docker run -d -p 8787:8787 -v $(pwd):/project  -w /project -e PASSWORD=rstudio signbase

For Windows (Git Bash):

    MSYS_NO_PATHCONV=1 docker run -d -p 8787:8787 -v $(pwd):/project -w /project -e PASSWORD=rstudio signbase

to start the container on your computer

5.  Go to <http://localhost:8787/> with your browser and enter `rstudio`
    in both fields to start RStudio in your browser

6.  In RStudio, open this README file and follow the steps above in the
    section ‘How to download and run locally’. You can run
    `quarto::quarto_render("paper/paper.qmd")` to render the Quarto
    document that is the manuscript submitted for publication

7.  After the code has executed, view the rendered output document by
    running `browseURL("paper/paper.docx")`

8.  When finished, to delete all the Docker containers from your
    computer, run this in the terminal on your desktop:
    `docker ps -aq | xargs docker stop | xargs docker rm`

### Licenses

**Text and figures :**
[CC-BY-4.0](http://creativecommons.org/licenses/by/4.0/)

**Code :** See the [DESCRIPTION](DESCRIPTION) file

**Data :** [CC-0](http://creativecommons.org/publicdomain/zero/1.0/)
attribution requested in reuse
